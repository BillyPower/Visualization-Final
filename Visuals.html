<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>D3.js Scatter Plot Example</title>
  <script src="https://d3js.org/d3.v6.min.js"></script>
</head>
<body>

<script>
  // Load data from the GitHub repository
  d3.csv('https://raw.githubusercontent.com/BillyPower/Visualization-Final/main/Anime_list.csv').then(function(data) {
    // Convert 'members', 'score', and 'count_of_episodes' column values to numbers
    data.forEach(function(d) {
      d.members = +d.members;
      d.score = +d.score;
      d.count_of_episodes = +d.count_of_episodes;
    });

    // Set up SVG container with larger dimensions
    const svgWidth = 1000;
    const svgHeight = 800;

    const svg = d3.select("body")
      .append("svg")
      .attr("width", svgWidth)
      .attr("height", svgHeight);

    // Create circles for scatter plot with larger radius
    svg.selectAll("circle")
      .data(data)
      .enter()
      .append("circle")
      .attr("cx", d => d.members / 100)
      .attr("cy", d => svgHeight - d.score * 8)
      .attr("r", d => d.count_of_episodes * 1.5) // Adjust the multiplier for a suitable size
      .attr("fill", "orange")
      .attr("opacity", 0.7);

    // Add labels with larger font size
    svg.selectAll("text")
      .data(data)
      .enter()
      .append("text")
      .text(d => d.Anime_name)
      .attr("x", d => d.members / 100 + 10)
      .attr("y", d => svgHeight - d.score * 8)
      .attr("font-size", "12px") // Adjust the font size for readability
      .attr("fill", "black");
  });
</script>

</body>
</html>
